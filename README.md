# TgSample

[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/)
[![aiogram](https://img.shields.io/badge/aiogram-3.x-green.svg)](https://docs.aiogram.dev/)

Это простой бот для Telegram, созданный с использованием фреймворка [aiogram](https://github.com/aiogram/aiogram). Бот поддерживает базовые команды, такие как `/start`, `/help`, а также обрабатывает сообщения пользователя.

## Содержание
- [Требования](#требования)
- [Установка](#установка)
- [Настройка](#настройка)
- [Запуск](#запуск)
- [Структура проекта](#структура-проекта)
- [Команды бота](#команды-бота)
- [Лицензия](#лицензия)

---

## Требования

Для работы бота необходимы следующие зависимости:
- Python 3.12+
- aiogram 3.x
- pydantic (для работы с конфигурацией)
- sqlite3 (опционально, можно заменить любой другой бд)

Убедитесь, что у вас установлен Python 3.12 или выше.

---

## Установка

1. Клонируйте репозиторий:
   ```
   git clone https://github.com/yourusername/my-bot.git
   cd my-bot
   ```

2. Создайте виртуальное окружение (рекомендуется):
   ```
   python -m venv venv
   source venv/bin/activate  # На Windows: venv\Scripts\activate
   ```

3. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```

---

## Настройка

1. Получите токен бота от [@BotFather](https://t.me/BotFather).

2. Создайте файл `.env` из `.env.example` в корне проекта и поменяйте токен бота:
   ```
   BOT_TOKEN=your_bot_token_here
   ```

3. Если вы планируете использовать базу данных, убедитесь, что она правильно настроена в `utils/db.py`.

---

## Запуск

Чтобы запустить бота, выполните следующую команду:
```
python main.py
```

Бот начнет работу в режиме long polling. Для остановки нажмите `Ctrl+C`.

---

## Структура проекта

```
my_bot/
│
├── main.py               # Точка входа в приложение
├── config.py             # Файл конфигурации
├── handlers/             # Директория для обработчиков
│   ├── start.py          # Обработчик команды /start
│   ├── help.py           # Обработчик команды /help
│   └── echo.py           # Пример эхо-обработчика
│
├── middlewares/          # Директория для мидлварей
│   └── logging_middleware.py  # Пример мидлвари для логирования
│
├── filters/              # Директория для кастомных фильтров
│   └── admin_filter.py   # Пример фильтра для админов
│
├── keyboards/            # Директория для клавиатур
│   └── menu_keyboard.py  # Пример меню клавиатуры
│
├── states/               # Директория для состояний FSM
│   └── form.py           # Пример состояний для формы
│
├── utils/                # Директория для утилит
│   ├── logging.py        # Используется для записи логгов в файл и консоль
│   └── db.py             # Пример подключения к базе данных
│
└── .env                  # Файл с переменными окружения
```

---

## Команды бота

| Команда     | Описание                          |
|-------------|-----------------------------------|
| `/start`    | Начать диалог с ботом             |
| `/help`     | Показать список доступных команд  |

**Примечание**: Бот также поддерживает эхо-функциональность — он повторяет все сообщения пользователя.

---

### Примечания

- Если вы используете дополнительные функции (например, работу с базой данных, API сторонних сервисов), не забудьте описать их настройку в разделе "Настройка".